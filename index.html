<html>
<body>
    <h1>Lotto9</h1>
    <canvas id="Canvas1" width="800" height="600" style="border: 1px solid black;"></canvas>
    <script>
        var c1 = document.getElementById("Canvas1");
        var ct1 = c1.getContext("2d");
        ct1.font = "4px Monospace";
        setn = 100;
        maxg=1
        var set = [];

        function pic6(rang) {
            var pick = [0, 0, 0, 0, 0, 0];
            for (k = 0; k < 6; k++) {
                do {
                    n = 1 + Math.floor(Math.random() * rang);
                } while (pick.includes(n));
                pick[k] = n;
            }
             return pick.sort(function(a, b) {
                return a - b;
            });
        }

        function countMatches(winningNumbers, userNumbers) {
            var matchCount = 0;
            for (var i = 0; i < userNumbers.length; i++) {
                if (winningNumbers.includes(userNumbers[i])) {
                    matchCount++;
                }
            }
            return matchCount;
        }
    var r=prompt("Lotto 1 to ?")
        for (i = 0; i < setn; i++) {
            set[i] = pic6(r);
            ct1.fillText(set[i], 10, 20 + 15 * i);
        }
        result=[0,0,0,0,0,0,0]
          winVal=0,winc=0
    doDraws(1)
        
    async function doDraws(rp){
        
        for(draw=0; draw<10; draw++){
          didwin=false
         var win=pic6(59)
              for (i = 0; i < setn; i++) {
                  c=countMatches(win,set[i])
                  result[c]++
                  if(c>2){winVal+=10*c; didwin=true}
              }
            if(didwin){winc++}
        }
       await delay()
          ct1.font = "14px Monospace";
          ct1.fillText(result,10,250+rp*15)
     
        if(rp<maxg){ doDraws(rp+1) }
        else{ ct1.fillText("win=Â£"+winVal+"  in "+winc, 200,460) }
    }
    
    async function delay(){
     await new Promise(resolve => setTimeout(resolve, 1000 / 60))
  }
    </script>
</body>
</html>
